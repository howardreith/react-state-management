{"ast":null,"code":"import _classCallCheck from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/howardreith/workspace/redux-demo/context-api/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/howardreith/workspace/redux-demo/context-api/src/GameBoard.js\";\nimport React from 'react';\nimport pirateData from './pirates.json';\nimport PirateImage from './PirateImage';\nimport { shuffle, sample, cloneDeep } from 'lodash';\nimport Answer from './Answer';\nimport { AppContext } from './AppProvider';\n\nvar GameBoard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GameBoard, _React$Component);\n\n  function GameBoard(props) {\n    var _this;\n\n    _classCallCheck(this, GameBoard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GameBoard).call(this, props));\n    _this.buildTurnData = _this.buildTurnData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAnswerSelected = _this.handleAnswerSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      pirates: pirateData,\n      turn: _this.buildTurnData(pirateData)\n    };\n    return _this;\n  }\n\n  _createClass(GameBoard, [{\n    key: \"buildTurnData\",\n    value: function buildTurnData(pirates) {\n      var possiblities = cloneDeep(shuffle(pirates).slice(0, 4));\n      var pirate = sample(possiblities);\n      return {\n        possiblities: possiblities,\n        pirate: pirate\n      };\n    }\n  }, {\n    key: \"handleAnswerSelected\",\n    value: function handleAnswerSelected(pirate, context) {\n      if (pirate.name === this.state.turn.pirate.name) {\n        this.setState({\n          turn: this.buildTurnData(this.state.pirates)\n        });\n        context.incCorrect();\n      } else {\n        var turn = this.state.turn;\n        turn.possiblities.find(function (p) {\n          return p.name === pirate.name;\n        }).disabled = true;\n        this.setState({\n          turn: turn\n        });\n        context.incIncorrect();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-4 offset-1 center text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(PirateImage, {\n        pirate: this.state.turn.pirate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(AppContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, function (context) {\n        return _this2.state.turn.possiblities.map(function (p) {\n          return React.createElement(Answer, {\n            key: p.name,\n            pirate: p,\n            disabled: p.disabled,\n            onSelected: function onSelected(p) {\n              return _this2.handleAnswerSelected(p, context);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          });\n        });\n      })));\n    }\n  }]);\n\n  return GameBoard;\n}(React.Component);\n\nexport { GameBoard as default };","map":{"version":3,"sources":["/home/howardreith/workspace/redux-demo/context-api/src/GameBoard.js"],"names":["React","pirateData","PirateImage","shuffle","sample","cloneDeep","Answer","AppContext","GameBoard","props","buildTurnData","bind","handleAnswerSelected","state","pirates","turn","possiblities","slice","pirate","context","name","setState","incCorrect","find","p","disabled","incIncorrect","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport pirateData from './pirates.json';\nimport PirateImage from './PirateImage';\nimport {shuffle, sample, cloneDeep} from 'lodash';\nimport Answer from './Answer';\nimport {AppContext} from './AppProvider';\n\nexport default class GameBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.buildTurnData = this.buildTurnData.bind(this);\n    this.handleAnswerSelected = this.handleAnswerSelected.bind(this);\n\n    this.state = {\n      pirates: pirateData,\n      turn: this.buildTurnData(pirateData),\n    };\n  }\n\n  buildTurnData(pirates) {\n    const possiblities = cloneDeep(shuffle(pirates).slice(0, 4));\n    const pirate = sample(possiblities);\n    return {\n      possiblities,\n      pirate,\n    };\n  }\n\n  handleAnswerSelected(pirate, context) {\n    if (pirate.name === this.state.turn.pirate.name) {\n      this.setState({\n        turn: this.buildTurnData(this.state.pirates),\n      });\n      context.incCorrect();\n    } else {\n      let turn = this.state.turn;\n      turn.possiblities.find(p => p.name === pirate.name).disabled = true;\n      this.setState({\n        turn: turn,\n      });\n      context.incIncorrect();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-4 offset-1 center text-center\">\n          <PirateImage pirate={this.state.turn.pirate} />\n        </div>\n        <div className=\"col-6\">\n          <AppContext.Consumer>\n            {context => {\n              return this.state.turn.possiblities.map(p => (\n                <Answer\n                  key={p.name}\n                  pirate={p}\n                  disabled={p.disabled}\n                  onSelected={p => this.handleAnswerSelected(p, context)}\n                />\n              ));\n            }}\n          </AppContext.Consumer>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}